"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _bluebird = require("bluebird");

const map = (values, mapper, configuration) => {
  let concurrency;
  concurrency = configuration && configuration.concurrency || Infinity; // eslint-disable-next-line no-process-env

  if (process.env.BLUEFEATHER_MAX_CONCURRENCY) {
    // eslint-disable-next-line no-process-env
    concurrency = parseInt(process.env.BLUEFEATHER_MAX_CONCURRENCY, 10);
  }

  return (0, _bluebird.map)(values, mapper, {
    concurrency
  });
};

var _default = map;
exports.default = _default;
//# sourceMappingURL=map.js.map